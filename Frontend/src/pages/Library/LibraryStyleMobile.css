/* 主题变量（已调整为纯黑背景与白色文字） */
.library-root {
  --bg-image: none;
  --bg-fallback: #000000;       /* 纯黑背景 */
  --primary: #843f8d;           /* 保留紫色作为强调色 */
  --primary-600: #5e195f;
  --card-border: rgba(255,255,255,0.06);
  --muted: #bdbdbd;
  --text-strong: #ffffff;       /* 全局主文字为白 */
  --text-hover: #1f0346;
  --glass-shadow: 0 14px 40px rgba(0,0,0,0.6);
  --code-bg: #0b1220;
  --code-fg: #e6eef8;
  --fav-yellow: #d6b24b;
  --card-bg: #0b0b0b;           /* 深色卡片背景 */
  --input-bg: rgba(255,255,255,0.03);
  --btn-ghost-bg: rgba(255,255,255,0.02);

  min-height: calc(100vh - 0px);
  box-sizing: border-box;
  position: relative;
  z-index: 1;
  padding: 18px 8px 18px;
  background-color: var(--bg-fallback);
  color: var(--text-strong);
}

/* 背景（移除图片，使用纯黑色） */
.library-root::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background-image: none;
  background-position: top center;
  background-repeat: no-repeat;
  background-size: cover;
  background-color: var(--bg-fallback);
}

/* ------------------ hero 标题定位与样式（按你的示例） ------------------ */
.lib-hero {
  position: relative;
  z-index: 2;
  height: 62px;
  padding: 0;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* 白色 1px 条带：位于标题与下面按钮之间 */
.lib-hero::after {
  content: "";
  position: absolute;
  left: 6%;
  right: 6%;
  bottom: 6px;
  height: 1px;
  background: #ffffff;
  opacity: 1;
  pointer-events: none;
}

/* 渐变文字（两段式标题） */
.hero-title {
  position: absolute;
  top: 10px;
  font-weight: 800;
  line-height: 1;
  font-size: 21px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: translateX(-50%);
  white-space: nowrap;
  background: linear-gradient(144deg, #AF40FF, #5B42F3 50%, #00DDEB);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
}
.hero-left { left: 13%; }
.hero-right { left: 87%; }

/* controls */
.controls {
  position: relative;
  z-index: 2;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
  margin-top: 18px;
}

/* language pills */
.languages { 
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
  width: 100%;
  margin-bottom: 6px; 
}
.pill {
  padding: 6px 10px;
  border-radius: 999px;
  cursor: pointer;
  font-weight: 700;
    background:
  radial-gradient(
    circle at top right,
    #4c4c4c,
    transparent 40%
  ),
  radial-gradient(
    circle at bottom left,
    #4c4c4c,
    transparent 40%
  ),
  #232323;
  border: 0.01px solid #aeaeae69;
  color: var(--text-strong);
  -webkit-backdrop-filter: blur(6px) saturate(110%);
  backdrop-filter: blur(6px) saturate(110%);
  transition: transform .12s ease, box-shadow .12s ease, color .12s;
  font-size: 0.95rem;
}
/* .pill:hover { transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,0.6); } */
/* .pill:not(.active):hover {
  background: linear-gradient(180deg, #f1eaff, #f7eefe);
  transform: translateY(-2px); 
  box-shadow: 0 8px 18px rgba(0,0,0,0.6);
  color: var(--text-hover);
} */
.pill.active {
  /* background: linear-gradient(180deg, var(--primary), var(--primary-600)); */
  background:
  radial-gradient( circle at top right, #8b5cf6, transparent 40%),
  radial-gradient( circle at top left, #8b5cf6, transparent 40%),
  radial-gradient( circle at bottom right, #8b5cf6, transparent 40%),
  radial-gradient( circle at bottom left, #8b5cf6, transparent 40%),
  #6d28d9;
  color: #ffffff;
  border-color: rgba(255,255,255,0.08);
  border-radius: 999px;
  transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,0.6);
}

/* search input */
.search-wrapper { position: relative; display: block; z-index:2; }
.input.search {
  padding: 10px 40px 10px 38px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.06);
  background: var(--input-bg);
  color: var(--text-strong);
  outline: none;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  transition: box-shadow .18s, border-color .12s, transform .12s;
  min-width: 160px;
  font-weight: 700;
}
.input.search:focus {
  box-shadow: 0 10px 30px rgba(132,63,141,0.12);
  border-color: var(--primary-600);
  transform: translateY(-1px);
}
/* magnifier icon inline SVG (白色) */
.input.search {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24'%3E%3Cpath fill='%23ffffff' d='M21.53 20.47l-4.91-4.91A7 7 0 1 0 18 18l4.53 4.53a.75.75 0 0 0 1.06-1.06zM5.5 11a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: 12px center;
  background-size: 16px 16px;
}
.clear-btn {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,0.04);
  border: none;
  padding: 6px 8px;
  border-radius: 8px;
  cursor: pointer;
  color: var(--text-strong);
  font-weight: 700;
  z-index: 3;
}

/* select styling (暗色) */
select.input {
  -webkit-appearance: none;
  appearance: none;
  padding: 10px 36px 10px 12px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.06);
  background: var(--input-bg);
  color: var(--text-strong);
  font-weight: 300;
  font-size: 0.75rem;
  min-width: 100px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  z-index: 2;
}
select.input {
  background-image: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,0)), url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24'%3E%3Cpath fill='%23ffffff' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 14px 14px;
}
select.input:focus { box-shadow: 0 10px 30px rgba(132,63,141,0.12); border-color: var(--primary-600); transform: translateY(-1px); }

/* grid & cards */
section.grid { 
  background: #1c1c1c;
  position: relative; 
  margin-top: 25px;
  margin-left: 1%;
  margin-right: 1%;
  padding: 30px 10px 70px 10px; 
  border-radius: 30px;
  /* border: 1px solid white; */
  box-shadow: 0px 0px 40px rgba(194, 194, 194, 0.7);
  z-index: 2; 
  display: grid; 
  grid-template-columns: repeat(1, 1fr); 
  gap: 15px; 
}


/* card — 深色风格，保留悬浮弹起效果 */
.card {
  cursor: default;
  transition: transform 260ms cubic-bezier(.2,.9,.2,1), box-shadow 260ms cubic-bezier(.2,.9,.2,1), border-color 180ms;
  border: 0.8px solid #ffffff;
  background: linear-gradient(180deg, var(--card-bg), rgba(11,11,11,0.92));
  padding: 10px;
  border-radius: 12px;
  -webkit-backdrop-filter: blur(6px) saturate(110%);
  backdrop-filter: blur(6px) saturate(110%);
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  color: var(--text-strong);
  height: 140px;
}
.card:hover {
  transform: translateY(-8px) scale(1.01);
  box-shadow: 0 36px 80px rgba(132,63,141,0.12);
  border-color: rgba(255,255,255,0.12);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
}

.card h3 { margin:0 0 6px 0; font-size:1.05rem; font-weight:900; color: var(--text-strong); }
.card p { margin:0; color: var(--muted); opacity: 0.95; font-size:0.95rem; }
.card .meta { margin-top:10px; font-size:0.85rem; color: var(--muted); opacity: 0.95; display:flex; gap:8px; align-items:center; }

/* card actions */
.card .actions { display:flex; flex-direction:column; gap:8px; align-items:flex-end; }

/* 查看按钮（卡片里）：暗色样式，hover 微变色 */
.btn-view {
  background: var(--input-bg);
  color: var(--text-strong);
  border: 1px solid rgba(255,255,255,0.04);
  padding: 8px 12px;
  border-radius: 10px;
  font-weight:800;
  cursor:pointer;
  -webkit-backdrop-filter: blur(4px) saturate(105%);
  backdrop-filter: blur(4px) saturate(105%);
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  transition: background .12s ease, color .12s ease, transform .08s;
}
.btn-view:hover {
  background: rgba(255,255,255,0.04);
  transform: translateY(-1px);
}

/* 收藏按钮 */
.fav-btn {
  background: rgba(214,178,75,0.06);
  color: var(--fav-yellow);
  border: 1px solid rgba(214,178,75,0.18);
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 800;
}
.fav-btn:hover { background: rgba(214,178,75,0.10); box-shadow: 0 8px 18px rgba(214,178,75,0.06); }
.fav-btn[disabled] { opacity: 0.6; cursor: not-allowed; }

/* load more */
.load-more-wrap { display:flex; justify-content:center; padding: 16px 0; z-index:2; }

/* ---------- modal ---------- */
/* backdrop: 轻度模糊覆盖，但保留黑底基调 */
.modal-backdrop {
  position: fixed;
  inset: 0;
  z-index: 60;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events: auto;
  background: rgba(0,0,0,0.45);
  -webkit-backdrop-filter: blur(6px) saturate(110%);
  backdrop-filter: blur(6px) saturate(110%);
}

/* modal container — 深色边框，内部仍保留明暗区分，阅读区保持白底以提高可读性 */
.modal {
  max-width: 920px;
  width: calc(100% - 20px);
  border-radius: 24px;
  overflow: hidden;
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  border: 1px solid white;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color: var(--text-strong);
  display: flex;
  flex-direction: column;
  max-height: 92vh;
  z-index: 70;
  /* box-shadow: 0 40px 80px rgba(0,0,0,0.6), 0 10px 30px rgba(132,63,141,0.06); */
  box-shadow: 12px 12px 36px rgba(194, 194, 194, 0.7);
}

/* modal header */
.modal .modal-header {
  padding: 16px 18px;
  border-bottom: 1px solid rgba(255,255,255,0.04);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  -webkit-backdrop-filter: blur(6px) saturate(110%);
  backdrop-filter: blur(6px) saturate(110%);
}
.modal .modal-header .title { display:flex; flex-direction:column; gap:6px; }
.modal .modal-header h2 { margin:0; font-size:1.15rem; font-weight:900; color: var(--text-strong); }
.modal .modal-header .meta { font-size:0.9rem; color: var(--muted); }

/* header actions */
.modal .modal-header .actions { display:flex; gap:10px; align-items:center; }
.modal .modal-header .close-btn {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.06);
  padding: 6px 9px;
  border-radius: 10px;
  cursor: pointer;
  color: var(--text-strong);
}
.modal .modal-header .close-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,0.6); }

/* modal body */
.modal .modal-body { padding: 18px; overflow: auto; color: var(--text-strong); line-height: 1.7; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00)); }
.modal-grid { display:grid; grid-template-columns: 1fr; gap: 18px; align-items:start; }
/* @media (max-width: 900px) { .modal-grid { grid-template-columns: 1fr; } } */

/* 左侧：阅读区保留白底以便长文阅读 */
.content-card {
  background: #ffffff;
  border-radius: 10px;
  padding: 16px;
  border: 1px solid rgba(12,12,12,0.06);
  box-shadow: 0 8px 24px rgba(12,12,12,0.06);
  color: #0b1220; /* 阅读区主体为深色文字以提高可读性 */
}
.example-card {
  background: #ffffff;
  border-radius: 10px;
  padding: 12px;
  border: 1px solid rgba(12,12,12,0.04);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
  color: #0b1220;
}
.example-title {
  display:inline-block;
  background: #ffffff;
  margin: 0;
  padding: 6px 10px;
  border-radius: 8px;
  font-weight: 900;
  color: #0b1220;
  border: 1px solid rgba(12,12,12,0.04);
}

/* code and tools */
.code-and-tools { display:flex; gap:12px; align-items:flex-start; margin-top:8px; }
.code { background: var(--code-bg); color: var(--code-fg); padding: 12px; border-radius: 8px; overflow:auto; flex:1; border: 1px solid rgba(255,255,255,0.04); box-shadow: inset 0 2px 6px rgba(0,0,0,0.6); }

/* modal right side */
.modal-side .side-card { padding:12px; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.04); -webkit-backdrop-filter: blur(6px); backdrop-filter: blur(6px); color: var(--text-strong); }
.pill-tag { padding:6px 8px; border-radius:8px; background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.04); color: var(--text-strong); font-weight:700; }

/* 按钮：紫色主题（用于强调） */
.btn-primary {
  background: linear-gradient(90deg, var(--primary), var(--primary-600));
  color: #ffffff;
  border: none;
  padding: 8px 12px;
  border-radius: 10px;
  font-weight:900;
  cursor:pointer;
  box-shadow: 0 12px 30px rgba(132,63,141,0.14);
}
.btn-primary:hover { filter: brightness(0.95); transform: translateY(-2px); }
.res-card-foot button{ margin-left: 10px;}

/* 白底按钮（用于在深色界面上做对比的操作） */
.btn-white {
  background: #ffffff;
  color: var(--primary);
  border: 1px solid rgba(132,63,141,0.08);
  padding: 8px 12px;
  border-radius: 10px;
  font-weight:800;
  cursor: pointer;
  box-shadow: 0 8px 20px rgba(12,12,12,0.06);
}
.btn-white:hover { transform: translateY(-2px); }

/* 无色透明按钮（ghost） */
.btn-ghost {
  background: transparent;
  color: var(--primary);
  border: 1px solid rgba(255,255,255,0.06);
  padding: 8px 12px;
  border-radius: 10px;
  font-weight:800;
  cursor: pointer;
}
.btn-ghost:hover { background: var(--btn-ghost-bg); }

/* 其它细节 */
.prose { color: #0b1220; } /* 文章正文在白底阅读区使用深色字体 */
.animate-pulse { animation: pulse 1.4s ease-in-out infinite; }
@keyframes pulse { 0% { opacity: 1 } 50% { opacity: 0.55 } 100% { opacity: 1 } }
.preserve { white-space: pre-wrap; word-break: break-word; }


/* focus accessibility */
.pill:focus, .btn-primary:focus, .btn-try:focus, .fav-btn:focus, .close-btn:focus, .btn-white:focus, .btn-ghost:focus {
  outline: 3px solid rgba(132,63,141,0.12);
  outline-offset: 2px;
  border-radius: 10px;
}

/* 小工具颜色 */
.loading-note { color: var(--muted); font-weight:700; }

option{
  background-color: #000000;
  color: white;
}